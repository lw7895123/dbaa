# 高并发订单监控系统环境配置
# 复制此文件为 .env 并修改相应配置

# ===========================================
# 数据库配置
# ===========================================

# MySQL数据库配置
MYSQL_HOST=localhost
MYSQL_PORT=3306
MYSQL_USER=root
MYSQL_PASSWORD=123456789
MYSQL_DATABASE=strategy
MYSQL_CHARSET=utf8mb4

# MySQL连接池配置
MYSQL_POOL_SIZE=20
MYSQL_MAX_OVERFLOW=30
MYSQL_POOL_TIMEOUT=30
MYSQL_POOL_RECYCLE=3600

# ===========================================
# Redis配置
# ===========================================

# Redis连接配置
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=123456789
REDIS_DB=0

# Redis连接池配置
REDIS_POOL_SIZE=50
REDIS_MAX_CONNECTIONS=100
REDIS_SOCKET_TIMEOUT=5
REDIS_SOCKET_CONNECT_TIMEOUT=5

# ===========================================
# 日志配置
# ===========================================

# 日志目录
LOG_DIR=./logs

# 日志级别 (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# 日志保留天数
LOG_RETENTION_DAYS=7

# 日志清理间隔（秒）
LOG_CLEANUP_INTERVAL=3600

# 日志监控间隔（秒）
LOG_MONITOR_INTERVAL=300

# 单个日志文件最大大小（MB）
LOG_MAX_FILE_SIZE=100

# 每个用户最大日志文件数
LOG_MAX_FILES_PER_USER=10

# ===========================================
# 监控配置
# ===========================================

# 监控引擎配置
MONITORING_ENABLED=true
MONITORING_SCAN_INTERVAL=10
MONITORING_HEALTH_CHECK_INTERVAL=60
MONITORING_MAX_WORKERS=10

# 用户监控配置
USER_MONITOR_INTERVAL=5
USER_MONITOR_TIMEOUT=30
USER_MONITOR_MAX_RETRIES=3

# 事件处理配置
EVENT_QUEUE_SIZE=10000
EVENT_WORKER_COUNT=5
EVENT_BATCH_SIZE=100

# ===========================================
# 策略配置
# ===========================================

# 策略管理配置
STRATEGY_ENABLED=true
STRATEGY_MAX_CONCURRENT=100
STRATEGY_TIMEOUT=30
STRATEGY_HEARTBEAT_INTERVAL=10

# 策略性能配置
STRATEGY_PERFORMANCE_WINDOW=3600
STRATEGY_PERFORMANCE_SAMPLES=1000

# ===========================================
# 系统配置
# ===========================================

# 系统运行模式 (development, production, testing)
ENVIRONMENT=development

# 调试模式
DEBUG=true

# 系统时区
TIMEZONE=Asia/Shanghai

# 最大并发用户数
MAX_CONCURRENT_USERS=1000

# 系统健康检查间隔（秒）
HEALTH_CHECK_INTERVAL=30

# ===========================================
# 安全配置
# ===========================================

# API密钥（如果启用Web API）
API_SECRET_KEY=your_secret_key_here

# 允许的主机列表（逗号分隔）
ALLOWED_HOSTS=localhost,127.0.0.1

# 跨域配置
CORS_ENABLED=true
CORS_ORIGINS=*

# ===========================================
# 性能配置
# ===========================================

# 线程池配置
THREAD_POOL_SIZE=20
THREAD_POOL_MAX_WORKERS=50

# 进程池配置
PROCESS_POOL_SIZE=4

# 内存限制（MB）
MEMORY_LIMIT=2048

# CPU使用率阈值（%）
CPU_THRESHOLD=80

# ===========================================
# 告警配置
# ===========================================

# 告警启用
ALERT_ENABLED=true

# 邮件告警配置
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_email_password
SMTP_USE_TLS=true

# 告警接收邮箱（逗号分隔）
ALERT_RECIPIENTS=admin@example.com

# 告警阈值
ALERT_ERROR_THRESHOLD=10
ALERT_MEMORY_THRESHOLD=90
ALERT_CPU_THRESHOLD=90

# ===========================================
# 开发配置
# ===========================================

# 开发模式配置
DEV_AUTO_RELOAD=true
DEV_PROFILING=false
DEV_MOCK_DATA=false

# 测试配置
TEST_DATABASE=strategy_test
TEST_REDIS_DB=1